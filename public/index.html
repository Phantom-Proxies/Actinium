
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actinium Proxy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI", sans-serif;
        }

        :root {
            --bg-color: #10101d;
            --ui-bg: #202035;
            --ui-darker-bg: #181828;
            --content-bg: #1c1c2e;
            --border-color: #303045;
            --text-color: #aaaaff;
            --accent-color: #7070aa;
            --accent2-color: #ffaaaa;
            --placeholder-color: #7777aa;
            --shadow-color: rgba(0, 0, 0, 0.3);
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            font-size: 16px;
            align-items: center;
        }

        header {
            width: 100%;
            background: var(--ui-bg);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }

        .header-buttons {
            display: flex;
            gap: 1rem;
        }

        .header-button {
            padding: 0.5rem 1rem;
            background: var(--ui-darker-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-color);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .header-button:hover {
            background: var(--border-color);
        }

        .settings-panel {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 300px;
            height: 100%;
            background: var(--ui-bg);
            border-left: 1px solid var(--border-color);
            padding: 1rem;
            overflow-y: auto;
        }

        .settings-panel.active {
            display: block;
        }

        .settings-panel h2 {
            margin-bottom: 1rem;
        }

        .theme-select {
            width: 100%;
            padding: 0.5rem;
            background: var(--ui-darker-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .search-container {
            flex: 1;
            width: 100%;
            max-width: 600px;
            padding: 2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .title {
            font-size: 2.5rem;
            font-weight: normal;
            color: var(--text-color);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .icon {
            width: 3rem;
            height: 3rem;
        }

        .icon path, .icon circle {
            stroke: var(--text-color);
            stroke-width: 1.5;
            fill: none;
        }

        .search-bar {
            width: 100%;
            padding: 1rem 1.5rem;
            background: var(--ui-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            font-size: 1.125rem;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .search-bar:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 5px var(--accent-color);
        }

        .search-bar::placeholder {
            color: var(--placeholder-color);
        }

        .message {
            opacity: 1;
            transition: opacity 0.25s ease;
            margin-top: 0;
            max-width: 100%;
            font-size: 0.95rem;
            color: var(--accent-color);
        }

        .message.fade-out {
            opacity: 0;
        }

        .actinium-info {
            position: fixed;
            bottom: 5px;
            right: 10px;
            font-size: 0.8rem;
            color: var(--accent-color);
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-buttons">
            <button class="header-button" id="games-btn">Games</button>
            <button class="header-button" id="apps-btn">Apps</button>
            <button class="header-button" id="settings-btn">Settings</button>
        </div>
    </header>
    <div class="search-container">
        <h1 class="title">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="2" />
                <path d="M 14 12 L 22 12 A 10 10 0 0 1 17 20.66 L 13 13.73" />
                <path d="M 14 12 L 22 12 A 10 10 0 0 1 17 20.66 L 13 13.73" transform="rotate(120 12 12)" />
                <path d="M 14 12 L 22 12 A 10 10 0 0 1 17 20.66 L 13 13.73" transform="rotate(240 12 12)" />
            </svg>
            Actinium <span style="color: var(--accent2-color);">Proxy</span>
        </h1>
        <input type="text" class="search-bar" placeholder="Enter a search query or URL">
        <p class="message">Actinium is one of the only proxies to not rely upon Ultraviolet or others.</p>
    </div>
    <div class="settings-panel" id="settings-panel">
        <h2>Settings</h2>
        <label for="theme-select">Theme:</label>
        <select id="theme-select" class="theme-select">
            <!-- Themes will be populated via JavaScript -->
        </select>
    </div>
    <p class="actinium-info">Actinium Proxy v1.0 - Made by BitonicDev</p>

    <script>
        const searchBar = document.querySelector('.search-bar');
        const messageElement = document.querySelector('.message');
        const baseUrl = `${window.location.protocol}//${window.location.host}/proxy?url=`;
        const settingsBtn = document.getElementById('settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const themeSelect = document.getElementById('theme-select');
        const gamesBtn = document.getElementById('games-btn');
        const appsBtn = document.getElementById('apps-btn');
        let themes = {};

        const messages = [
            "Actinium is one of the only proxies to not rely upon Ultraviolet or others.",
            "Actinium supports routing traffic through TOR nodes (the dark web)!",
            "Actinium encrypts all internet traffic, ensuring that you stay undetected and secure.",
            "Actinium is highly optimized, sometimes faster than if you didn't use a proxy!",
            "Actinium provides advanced emulators, allowing you to play console games!"
        ];

        function performSearch(input) {
            if (!input) return;

            if (input.endsWith('.onion')) {
                searchBar.value = '';
                searchBar.placeholder = ".onion addresses not supported yet.";
                setTimeout(() => searchBar.placeholder = "Enter a search query or URL", 2000);
                return;
            }

            const isUrl = input.includes('.') || input.includes(':') || input.startsWith('localhost');
            const url = isUrl 
                ? (input.match(/^https?:\/\//) ? input : `http://${input}`)
                : `https://www.mojeek.com/search?q=${encodeURIComponent(input)}`;
            
            window.location.href = `${baseUrl}${encodeURIComponent(url)}`;
        }

        function cycleMessages() {
            let index = 0;
            setInterval(() => {
                messageElement.classList.add('fade-out');
                setTimeout(() => {
                    messageElement.textContent = messages[index = (index + 1) % messages.length];
                    messageElement.classList.remove('fade-out');
                }, 250);
            }, 6000);
        }

        function applyTheme(themeName) {
            const theme = themes[themeName];
            if (theme) {
                for (const [key, value] of Object.entries(theme)) {
                    document.documentElement.style.setProperty(key, value);
                }
                // Save the selected theme to localStorage
                localStorage.setItem('selectedTheme', themeName);
            }
        }

        function populateThemes() {
            fetch('themes.json')
                .then(response => response.json())
                .then(data => {
                    themes = data;
                    for (const themeName in themes) {
                        const option = document.createElement('option');
                        option.value = themeName;
                        option.textContent = themeName.charAt(0).toUpperCase() + themeName.slice(1);
                        themeSelect.appendChild(option);
                    }
                    // Load saved theme or default to 'actinium'
                    const savedTheme = localStorage.getItem('selectedTheme') || 'actinium';
                    themeSelect.value = savedTheme;
                    applyTheme(savedTheme);
                })
                .catch(error => console.error('Error loading themes:', error));
        }

        // Placeholder functionality for Games and Apps
        function showComingSoon(feature) {
            const originalText = messageElement.textContent;
            messageElement.classList.add('fade-out');
            setTimeout(() => {
                messageElement.textContent = `${feature} coming soon! Stay tuned for updates.`;
                messageElement.classList.remove('fade-out');
                setTimeout(() => {
                    messageElement.classList.add('fade-out');
                    setTimeout(() => {
                        messageElement.textContent = originalText;
                        messageElement.classList.remove('fade-out');
                    }, 250);
                }, 3000);
            }, 250);
        }

        settingsBtn.addEventListener('click', () => {
            settingsPanel.classList.toggle('active');
        });

        themeSelect.addEventListener('change', (e) => {
            applyTheme(e.target.value);
        });

        gamesBtn.addEventListener('click', () => {
            showComingSoon('Games');
        });

        appsBtn.addEventListener('click', () => {
            showComingSoon('Apps');
        });

        searchBar.addEventListener('keypress', e => e.key === 'Enter' && performSearch(searchBar.value.trim()));
        cycleMessages();
        populateThemes();
    </script>
</body>
</html>
